<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Trunk Based Ping Pong</title>
    <link rel="shortcut icon" href="#">
    <link rel="stylesheet" type="text/css" href="/css/site.css"/>
</head>

<body>
    <header class="page-header">
    <img class="selfie" src="/images/kody-fintak.jpg" alt="Close up of Kody Fintak in a field"/>
    <div class="site-info">
        <h1 class="name">Kody Fintak</h1>
        <p class="roles">Software crafter, developer and coach</p>
    </div>
    <nav>
        <a href="/">Home</a>
        <a href="/about">About</a>
    </nav>
</header>


    <main>
        
<article class="post">
    <header class="post-header">
        <h1 class="post-title">Trunk Based Ping Pong</h1>
        <span class="post-published-date">
            Published <time datetime="2024-03-28">2024-03-28</time>
        </span>
    </header>
    <p>A collaborative programming style that incentivizes taking small steps together and is FUN.</p><p>I stumbled across it with my colleague Brett Schuchert while pairing one day. We were in a flow state rotating back and forth while pushing code effortlessly to production. Write a failing test. Make it pass. Commit and push. Rotate. Refactor. Commit and push. Refactor. Commit and push. Rotate.</p><p>Once we noticed what we were doing, we labeled it as Trunk-Based Ping-Pong and started to experiment with it in our day-to-day work. It has now become one of my favorite practices when collaboratively programming.</p><h2>How to do it</h2><p>As the name Trunk-Based Ping-Pong implies, we rotate anytime we can commit and push our changes to Trunk (main). So instead of relying upon a timer to know when to rotate, the group takes a small step that could be integrated into trunk, pushes it and then the group rotates roles. (typist/driver, navigator, etc.) </p><p>This assumes we are writing our software with <a href='https://www.industriallogic.com/blog/whats-this-about-micro-commits/'>micro-commits</a>- "a tiny commit" that does "one tightly-scoped change".</p><p><em>Related: Trunk-Based Ping-Pong plays really well with a micro-commit notation like <a href='https://github.com/RefactoringCombos/ArlosCommitNotation'>Arlo's Commit Notation</a>.</em></p><h3>In a TDD Workflow</h3><p>In a normal Test Driven Development red-green-refactor workflow, doing Trunk-Based Ping-Pong means you can rotate on green. To provide an example, here is what a typical rotation cycle would look like doing Trunk-Based Ping-Pong</p><ol><li>red to green: commit rotate</li><li>refactor: (extract variable) commit rotate</li><li>refactor: (extract method) commit rotate</li><li>red to green: commit rotate</li><li>red to green: commit rotate</li><li>refactor: (extract method in test) commit rotate</li><li>etc</li></ol><h3>How many step(s) before rotating?</h3><p>At first to learn the rhythm in your pair/mob, stick to one commit per rotation.</p><p>Once you experience a few full team rotations of this, experiment with the number of steps before rotating.  In my groups that have been doing this, if a step was super micro (e.g. rename variable), we take another small step before rotating.  But for most red to green steps we'd rotate once integrating to Trunk.</p><p>Your pair/mob will find what works for your context, so start off with one-step rotations and then experiment!</p><h3>Cost of Rotation</h3><p>Trunk-Based Ping-Pong might sound crazy rotating on every small change if the cost of rotating is expensive. First thing I would recommend doing is finding ways to reduce the cost of rotation.  For example, in the group I discovered Trunk-Based Ping-Pong with we enabled the zoom feature "multi-screenshare"  to allow the next typist to start their screenshare while the current typist writes the commit and pushes.</p><p>If you can not reduce the cost of rotation, taking multiple steps before rotating might make sense.</p><h3>Remote Work</h3><p>For a remote setup, Trunk-Based Ping-Pong solves the problem of how do we collaboratively program remotely by making the size of WIP (work in progress) smaller and incentivizing integrating our code into Trunk making it easier to pull down the most up-to-date version of the code base.</p><p>It was born out of a combination of wanting easy rotations (via screenshare of typists IDE over Zoom) with true CI (Continuous Integration) via micro-commits to Trunk.</p><p>We originally were using the fabulous <a href='https://mob.sh'>mob.sh</a> tool, but found it was incentivizing us to take bigger steps as it added an extra step to commit and push.</p><h2>Benefits</h2><p>Trunk-Based Ping-Pong is a practice that helps us <strong>"take small steps together"</strong>.</p><p>As we can only rotate on code that can be integrated into Trunk, we are incentivized to take small steps. The smaller the step, the faster we can rotate. The more we rotate, the more engagement we feel as a group.</p><p>It incentivizes the entire group to think in small steps, working together to break big problems into small incremental steps. </p><h3>Small Steps</h3><p>In case you aren't sold on taking small steps, <a href='https://www.geepawhill.org/2021/09/29/many-more-much-smaller-steps-first-sketch/'>Gee Paw Hill's Many More Much Smaller Steps</a> is a great article walking through the benefits of taking small steps.</p><p>To list a few reasons why taking small steps is essential to my workflow</p><ul><li><strong>interruptability</strong> - it allows us to work in a way that accepts the reality that we will be interrupted while working by minimizing the damage it can do.</li><li><strong>incremental</strong> - we can focus on one piece of one part of the problem at a time.</li><li><strong>poised to embrace change</strong> - it is much easier to change direction when we keep our WIP (work in progress) small.</li><li><strong>reversibility</strong> - by continuously taking small steps and getting them into our version control we can easily reverse our changes! (I am liberated to run git reset &ndash;hard and I do it multiple times a day)</li></ul><h2>Challenges</h2><h3>When taking the next small step is difficult</h3><p>Trunk-Based Ping-Pong can be challenging when it is difficult to take the next small step. For example, when trying to identify the root cause of a bug it can take some time to figure out what is the first small step to fix the issue.</p><p>However, it incentives the group to keep in the back of their heads "what is the next small step", which still brings value even if we don't explicitly rotate as often.</p><h3>Taking Breaks</h3><p>One thing I like about rotating on a timer is that it's easy to remember when to take breaks.  Using a technique like <a href='https://en.wikipedia.org/wiki/Pomodoro_Technique'>Pomodoro</a>, you can easily plug it into your existing mob rotations.</p><p>With Trunk-Based Ping-Pong, it <em>can</em> work the same by working it into your rotation, but it requires more thinking as the rotation times are not always uniform. (In ensembles of 3-4 people we would do two full rotations then break)</p><p>There has been a few occasions when using Trunk-Based Ping-Pong that we have forgotten to take a break.  To remedy this, I recommend setting an independent break timer. And since you are working to be interruptible it should be easier to take the break once the timer goes off! </p><h2>Conclusion</h2><p>Trunk-Based Ping-Pong has been very effective for me and the teams I have been working on. It creates a flow that bridges the gap between working collaboratively and working in small-steps.</p><p>Experiment with Trunk-Based Ping-Pong, it's super fun and can bring a new perspective on how your team approaches their work.</p>
</article>

    </main>

    <footer>
    <a class="social-account" href="https://twitter.com/Kodyfwee/">
        <img class="social-account-icon" src="/images/twitter-logo.png" alt="Twitter logo"/>
        <p>Kodyfwee</p>
    </a>

    <a class="social-account" href="https://github.com/KodyFintak">
        <img class="social-account-icon" src="/images/github-logo.png" alt="GitHub logo"/>
        <p>KodyFintak</p>
    </a>
</footer>

</body>
</html>
